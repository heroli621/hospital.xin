<!DOCTYPE html>
<html>
<head>
	{include file="public/head"}
    <style>
        thead tr th div,td{text-align: center;}
    </style>
</head>
<body>
<div style="padding: 10px;">
    <table id="data-table" class="layui-table" lay-filter="data-table">
        <thead>
        <tr>
            <th lay-data="{field:'school_name'}">学校</th>
            <th lay-data="{field:'grade_name',width:120}">年级</th>
            <th lay-data="{field:'class_name',width:100}">班级</th>
            <th lay-data="{field:'tool',width:120}">操作</th>
        </tr>
        </thead>
        <tbody>
        {volist name="term" id="val" key="k"}
        <tr>
            <td>{$val.school_name}</td>
            <td>{$val.grade_name}</td>
            <td>{$val.class_name}</td>
            <td>
                <button class="layui-btn layui-btn-xs layui-btn-normal open-btn"  data-url="{:url('termEdit')}" data-width="100%" data-id="{$val.class_id}" data-height="100%" data-title="编辑课程"><i class="layui-icon layui-icon-edit"></i></button>
            </td>
        </tr>
        {/volist}
        </tbody>
    </table>
</div>
</body>
</html>
<script type="text/html" id="class-tool">
    <button class="layui-btn  layui-btn-normal open-btn " data-url="{:url('termEdit',['grade_id'=>$grade_id])}" data-height="100%" data-width="100%" data-title="编辑班级"><i class="layui-icon layui-icon-add-1"></i>添加班级</button>
</script>
{include file="public/script"}
<script>
    layui.use(['table'],function () {
        var table=layui.table;
        //渲染表格
        table.init('data-table', {
            height: "300" //设置高度
            ,limit: '{$term|count}',
            toolbar:"#class-tool",
            //工具栏，filter=》筛选，exports=>导出，print=》打印
            defaultToolbar:[],
            //导出文件时的文件名
            title:'班级表',
        });
    });
</script>